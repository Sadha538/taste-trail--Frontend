{"ast":null,"code":"var _jsxFileName = \"D:\\\\zaalima2\\\\frontend\\\\src\\\\pages\\\\MealPlanner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport './MealPlanner.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MealPlanner = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [recipes, setRecipes] = useState([]);\n  const [mealPlan, setMealPlan] = useState(null);\n  const [weekStart, setWeekStart] = useState('');\n  const [loading, setLoading] = useState(true);\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n  const mealTypes = ['breakfast', 'lunch', 'dinner', 'snack'];\n  useEffect(() => {\n    if (user) {\n      fetchRecipes();\n      const start = new Date();\n      start.setDate(start.getDate() - start.getDay() + 1); // Get Monday\n      const weekStartDate = start.toISOString().split('T')[0];\n      setWeekStart(weekStartDate);\n    }\n  }, [user]);\n  useEffect(() => {\n    if (weekStart) {\n      fetchMealPlan();\n    }\n  }, [weekStart]);\n  const fetchRecipes = async () => {\n    try {\n      const res = await axios.get('http://localhost:5000/api/recipes');\n      setRecipes(res.data.recipes);\n    } catch (error) {\n      console.error('Error fetching recipes:', error);\n    }\n  };\n  const fetchMealPlan = async () => {\n    if (!weekStart) return;\n    setLoading(true);\n    try {\n      const startDate = new Date(weekStart);\n      const endDate = new Date(startDate);\n      endDate.setDate(endDate.getDate() + 6);\n      const res = await axios.get(`http://localhost:5000/api/mealplan?startDate=${startDate.toISOString()}&endDate=${endDate.toISOString()}`);\n      setMealPlan(res.data);\n    } catch (error) {\n      console.error('Error fetching meal plan:', error);\n    }\n    setLoading(false);\n  };\n  const handleDrop = async (day, mealType, recipeId) => {\n    if (!recipeId) return;\n    const selectedRecipe = recipes.find(r => r._id === recipeId);\n    if (!selectedRecipe) return;\n    const startDate = new Date(weekStart);\n    const dayIndex = days.indexOf(day);\n    const mealDate = new Date(startDate);\n    mealDate.setDate(mealDate.getDate() + dayIndex);\n    const newMeal = {\n      date: mealDate.toISOString(),\n      mealType,\n      recipe: recipeId\n    };\n    const currentMeals = (mealPlan === null || mealPlan === void 0 ? void 0 : mealPlan.meals) || [];\n    const updatedMeals = [...currentMeals, newMeal];\n    try {\n      const res = await axios.post('http://localhost:5000/api/mealplan', {\n        week: {\n          startDate: startDate.toISOString(),\n          endDate: new Date(startDate.getTime() + 6 * 24 * 60 * 60 * 1000).toISOString()\n        },\n        meals: updatedMeals\n      });\n      setMealPlan(res.data);\n    } catch (error) {\n      console.error('Error updating meal plan:', error);\n    }\n  };\n  const removeMeal = async mealIndex => {\n    const updatedMeals = mealPlan.meals.filter((_, index) => index !== mealIndex);\n    try {\n      const res = await axios.post('http://localhost:5000/api/mealplan', {\n        week: {\n          startDate: mealPlan.week.startDate,\n          endDate: mealPlan.week.endDate\n        },\n        meals: updatedMeals\n      });\n      setMealPlan(res.data);\n    } catch (error) {\n      console.error('Error removing meal:', error);\n    }\n  };\n  const getMealsForDay = (day, mealType) => {\n    if (!(mealPlan !== null && mealPlan !== void 0 && mealPlan.meals)) return [];\n    const dayIndex = days.indexOf(day);\n    const startDate = new Date(weekStart);\n    const mealDate = new Date(startDate);\n    mealDate.setDate(mealDate.getDate() + dayIndex);\n    return mealPlan.meals.filter(meal => {\n      const mealDateObj = new Date(meal.date);\n      return mealDateObj.toDateString() === mealDate.toDateString() && meal.mealType === mealType;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"meal-planner\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Meal Planner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), !user ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: \"Please login to use the meal planner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"week-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Select Week: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: weekStart,\n            onChange: e => setWeekStart(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"meal-planner-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipes-panel\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Available Recipes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipes-list\",\n              children: recipes.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: recipe.image || 'placeholder',\n                  alt: recipe.title,\n                  onDragStart: e => {\n                    e.dataTransfer.setData('recipeId', recipe._id);\n                    e.dataTransfer.setData('recipe', JSON.stringify(recipe));\n                  },\n                  draggable: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: recipe.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [recipe.prepTime + recipe.cookTime, \" min\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this)]\n              }, recipe._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading\",\n              children: \"Loading meal plan...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"meal-calendar\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Day\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Breakfast\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Lunch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Dinner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Snack\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: days.map(day => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"day-name\",\n                    children: day\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 27\n                  }, this), mealTypes.map(mealType => /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"meal-slot\",\n                    onDragOver: e => {\n                      e.preventDefault();\n                      e.currentTarget.classList.add('drag-over');\n                    },\n                    onDragLeave: e => {\n                      e.currentTarget.classList.remove('drag-over');\n                    },\n                    onDrop: e => {\n                      e.preventDefault();\n                      e.currentTarget.classList.remove('drag-over');\n                      const recipeId = e.dataTransfer.getData('recipeId');\n                      handleDrop(day, mealType, recipeId);\n                    },\n                    children: getMealsForDay(day, mealType).map((meal, index) => {\n                      var _meal$recipe, _meal$recipe2, _meal$recipe3;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"planned-meal\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: ((_meal$recipe = meal.recipe) === null || _meal$recipe === void 0 ? void 0 : _meal$recipe.image) || 'placeholder',\n                          alt: (_meal$recipe2 = meal.recipe) === null || _meal$recipe2 === void 0 ? void 0 : _meal$recipe2.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 199,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: (_meal$recipe3 = meal.recipe) === null || _meal$recipe3 === void 0 ? void 0 : _meal$recipe3.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => removeMeal(mealPlan.meals.indexOf(meal)),\n                          children: \"\\u2715\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 201,\n                          columnNumber: 35\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 198,\n                        columnNumber: 33\n                      }, this);\n                    })\n                  }, `${day}-${mealType}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 29\n                  }, this))]\n                }, day, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n_s(MealPlanner, \"AOuDbgBWq9rr3QTNWFN6V7+pSbI=\", false, function () {\n  return [useAuth];\n});\n_c = MealPlanner;\nexport default MealPlanner;\nvar _c;\n$RefreshReg$(_c, \"MealPlanner\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","MealPlanner","_s","user","recipes","setRecipes","mealPlan","setMealPlan","weekStart","setWeekStart","loading","setLoading","days","mealTypes","fetchRecipes","start","Date","setDate","getDate","getDay","weekStartDate","toISOString","split","fetchMealPlan","res","get","data","error","console","startDate","endDate","handleDrop","day","mealType","recipeId","selectedRecipe","find","r","_id","dayIndex","indexOf","mealDate","newMeal","date","recipe","currentMeals","meals","updatedMeals","post","week","getTime","removeMeal","mealIndex","filter","_","index","getMealsForDay","meal","mealDateObj","toDateString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","map","src","image","alt","title","onDragStart","dataTransfer","setData","JSON","stringify","draggable","prepTime","cookTime","onDragOver","preventDefault","currentTarget","classList","add","onDragLeave","remove","onDrop","getData","_meal$recipe","_meal$recipe2","_meal$recipe3","onClick","_c","$RefreshReg$"],"sources":["D:/zaalima2/frontend/src/pages/MealPlanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport './MealPlanner.css';\r\n\r\nconst MealPlanner = () => {\r\n  const { user } = useAuth();\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [mealPlan, setMealPlan] = useState(null);\r\n  const [weekStart, setWeekStart] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\n  const mealTypes = ['breakfast', 'lunch', 'dinner', 'snack'];\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchRecipes();\r\n      const start = new Date();\r\n      start.setDate(start.getDate() - start.getDay() + 1); // Get Monday\r\n      const weekStartDate = start.toISOString().split('T')[0];\r\n      setWeekStart(weekStartDate);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (weekStart) {\r\n      fetchMealPlan();\r\n    }\r\n  }, [weekStart]);\r\n\r\n  const fetchRecipes = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:5000/api/recipes');\r\n      setRecipes(res.data.recipes);\r\n    } catch (error) {\r\n      console.error('Error fetching recipes:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMealPlan = async () => {\r\n    if (!weekStart) return;\r\n    setLoading(true);\r\n    try {\r\n      const startDate = new Date(weekStart);\r\n      const endDate = new Date(startDate);\r\n      endDate.setDate(endDate.getDate() + 6);\r\n\r\n      const res = await axios.get(`http://localhost:5000/api/mealplan?startDate=${startDate.toISOString()}&endDate=${endDate.toISOString()}`);\r\n      setMealPlan(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching meal plan:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDrop = async (day, mealType, recipeId) => {\r\n    if (!recipeId) return;\r\n\r\n    const selectedRecipe = recipes.find(r => r._id === recipeId);\r\n    if (!selectedRecipe) return;\r\n\r\n    const startDate = new Date(weekStart);\r\n    const dayIndex = days.indexOf(day);\r\n    const mealDate = new Date(startDate);\r\n    mealDate.setDate(mealDate.getDate() + dayIndex);\r\n\r\n    const newMeal = {\r\n      date: mealDate.toISOString(),\r\n      mealType,\r\n      recipe: recipeId,\r\n    };\r\n\r\n    const currentMeals = mealPlan?.meals || [];\r\n    const updatedMeals = [...currentMeals, newMeal];\r\n\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/mealplan', {\r\n        week: {\r\n          startDate: startDate.toISOString(),\r\n          endDate: new Date(startDate.getTime() + 6 * 24 * 60 * 60 * 1000).toISOString(),\r\n        },\r\n        meals: updatedMeals,\r\n      });\r\n      setMealPlan(res.data);\r\n    } catch (error) {\r\n      console.error('Error updating meal plan:', error);\r\n    }\r\n  };\r\n\r\n  const removeMeal = async (mealIndex) => {\r\n    const updatedMeals = mealPlan.meals.filter((_, index) => index !== mealIndex);\r\n    \r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/mealplan', {\r\n        week: {\r\n          startDate: mealPlan.week.startDate,\r\n          endDate: mealPlan.week.endDate,\r\n        },\r\n        meals: updatedMeals,\r\n      });\r\n      setMealPlan(res.data);\r\n    } catch (error) {\r\n      console.error('Error removing meal:', error);\r\n    }\r\n  };\r\n\r\n  const getMealsForDay = (day, mealType) => {\r\n    if (!mealPlan?.meals) return [];\r\n    const dayIndex = days.indexOf(day);\r\n    const startDate = new Date(weekStart);\r\n    const mealDate = new Date(startDate);\r\n    mealDate.setDate(mealDate.getDate() + dayIndex);\r\n\r\n    return mealPlan.meals.filter(meal => {\r\n      const mealDateObj = new Date(meal.date);\r\n      return mealDateObj.toDateString() === mealDate.toDateString() && meal.mealType === mealType;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"meal-planner\">\r\n      <div className=\"container\">\r\n        <h1>Meal Planner</h1>\r\n        \r\n        {!user ? (\r\n          <div className=\"error-message\">Please login to use the meal planner</div>\r\n        ) : (\r\n          <>\r\n            <div className=\"week-selector\">\r\n              <label>Select Week: </label>\r\n              <input\r\n                type=\"date\"\r\n                value={weekStart}\r\n                onChange={(e) => setWeekStart(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"meal-planner-content\">\r\n              <div className=\"recipes-panel\">\r\n                <h2>Available Recipes</h2>\r\n                <div className=\"recipes-list\">\r\n                  {recipes.map((recipe) => (\r\n                    <div key={recipe._id} className=\"recipe-item\">\r\n                      <img\r\n                        src={recipe.image || 'placeholder'}\r\n                        alt={recipe.title}\r\n                        onDragStart={(e) => {\r\n                          e.dataTransfer.setData('recipeId', recipe._id);\r\n                          e.dataTransfer.setData('recipe', JSON.stringify(recipe));\r\n                        }}\r\n                        draggable\r\n                      />\r\n                      <h4>{recipe.title}</h4>\r\n                      <p>{recipe.prepTime + recipe.cookTime} min</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"calendar\">\r\n                {loading ? (\r\n                  <div className=\"loading\">Loading meal plan...</div>\r\n                ) : (\r\n                  <table className=\"meal-calendar\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Day</th>\r\n                        <th>Breakfast</th>\r\n                        <th>Lunch</th>\r\n                        <th>Dinner</th>\r\n                        <th>Snack</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {days.map((day) => (\r\n                        <tr key={day}>\r\n                          <td className=\"day-name\">{day}</td>\r\n                          {mealTypes.map((mealType) => (\r\n                            <td\r\n                              key={`${day}-${mealType}`}\r\n                              className=\"meal-slot\"\r\n                              onDragOver={(e) => {\r\n                                e.preventDefault();\r\n                                e.currentTarget.classList.add('drag-over');\r\n                              }}\r\n                              onDragLeave={(e) => {\r\n                                e.currentTarget.classList.remove('drag-over');\r\n                              }}\r\n                              onDrop={(e) => {\r\n                                e.preventDefault();\r\n                                e.currentTarget.classList.remove('drag-over');\r\n                                const recipeId = e.dataTransfer.getData('recipeId');\r\n                                handleDrop(day, mealType, recipeId);\r\n                              }}\r\n                            >\r\n                              {getMealsForDay(day, mealType).map((meal, index) => (\r\n                                <div key={index} className=\"planned-meal\">\r\n                                  <img src={meal.recipe?.image || 'placeholder'} alt={meal.recipe?.title} />\r\n                                  <span>{meal.recipe?.title}</span>\r\n                                  <button onClick={() => removeMeal(mealPlan.meals.indexOf(meal))}>âœ•</button>\r\n                                </div>\r\n                              ))}\r\n                            </td>\r\n                          ))}\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealPlanner;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}